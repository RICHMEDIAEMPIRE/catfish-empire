<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Catfish Empire Showcase</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script>
    const SUPABASE_URL = 'https://YOUR.supabase.co';
    const SUPABASE_KEY = 'public-anon-key'; // Use anon/public key only on frontend
    const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function loadInventory() {
      const res = await fetch('https://catfish-stripe-backend.onrender.com/public-inventory');
      const data = await res.json();
      document.querySelectorAll('.product').forEach(el => {
        const color = el.dataset.color;
        const qtyEl = el.querySelector('.qty');
        qtyEl.textContent = data[color] ?? 'N/A';
        qtyEl.style.color = data[color] === 0 ? 'red' : 'green';
      });
    }

    window.addEventListener('DOMContentLoaded', loadInventory);
  </script>
  <style>
    .product { margin: 20px; padding: 10px; border: 1px solid #000; display: inline-block; }
    .qty { font-weight: bold; }
  </style>
</head>
<body>
  <h1>Catfish Empire Sunglasses</h1>
  <div id="products">
    <div class="product" data-color="Blue">
      <h3>Blue Sunglasses</h3>
      Qty: <span class="qty">Loading...</span>
    </div>
    <div class="product" data-color="Black">
      <h3>Black Sunglasses</h3>
      Qty: <span class="qty">Loading...</span>
    </div>
    <!-- Add remaining colors similarly -->
  </div>
</body>
</html>
